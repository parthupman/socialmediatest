(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{9741:function(e,n,t){"use strict";t.d(n,{G:function(){return s},u:function(){return f}});var r=t(7294),a=t(8788),o=t(5382),i=t(345),u=t(1163),c=t(1664),l=r.createElement,s=function(){var e="/signup"===(0,u.useRouter)().pathname;return l(a.Z,{color:"teal",attached:!0,header:e?"Get Started":"Welcome Back",icon:e?"settings":"privacy",content:e?"Create New Account":"Login with Email and Password"})},f=function(){var e="/signup"===(0,u.useRouter)().pathname;return l(r.Fragment,null,e?l(r.Fragment,null,l(a.Z,{attached:"bottom",warning:!0},l(o.Z,{name:"help"}),"Existing User ? ",l(c.default,{href:"/login"},"Login Here Instead")),l(i.Z,{hidden:!0})):l(r.Fragment,null,l(a.Z,{attached:"bottom",info:!0},l(o.Z,{name:"lock"}),l(c.default,{href:"/reset"},"Forgot Password")),l(a.Z,{attached:"bottom",warning:!0},l(o.Z,{name:"help"}),"New User ? ",l(c.default,{href:"/signup"},"Signup here")," Instead","")))}},927:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return R}});var r=t(7757),a=t.n(r),o=t(2137),i=t(6156),u=t(7294),c=t(1920),l=t(8788),s=t(5766),f=t(345),p=t(8237),d=t(416),m=u.createElement;var h=function(e){var n=e.user,t=n.bio,r=n.facebook,a=n.instagram,o=n.youtube,i=n.twitter,s=e.handlechange,h=e.showSocialLinks,g=e.setShowSocialLinks;return m(u.Fragment,null,m(c.Z.Field,{required:!0,control:d.Z,name:"bio",value:t,onChange:s,placeholder:"bio"}),m(p.Z,{content:"Add Social Links",color:"red",icon:"at",type:"button",onClick:function(){return g(!h)}}),h&&m(u.Fragment,null,m(f.Z,null),m(c.Z.Input,{icon:"facebook f",iconPosition:"left",name:"facebook",value:r,onChange:s}),m(c.Z.Input,{icon:"twitter",iconPosition:"left",name:"twitter",value:i,onChange:s}),m(c.Z.Input,{icon:"instagram",iconPosition:"left",name:"instagram",value:a,onChange:s}),m(c.Z.Input,{icon:"youtube",iconPosition:"left",name:"youtube",value:o,onChange:s}),m(l.Z,{icon:"attention",info:!0,size:"small",header:"Social Media Links Are Optional!"})))},g=t(9445),v=t(5382),b=t(8867),w=u.createElement;var k=function(e){var n=e.highlighted,t=e.setHighlighted,r=e.inputRef,a=e.handlechange,o=e.mediaPreview,i=e.setMediaPreview,l=e.setMedia;return w(u.Fragment,null,w(c.Z.Field,null,w(s.Z,{placeholder:!0,basic:!0,secondary:!0},w("input",{style:{display:"none"},type:"file",accept:"image/*",onChange:a,name:"media",ref:r}),w("div",{onDragOver:function(e){e.preventDefault(),t(!0)},onDragLeave:function(e){e.preventDefault(),t(!1)},onDrop:function(e){e.preventDefault(),t(!0);var n=Array.from(e.dataTransfer.files);l(n[0]),i(URL.createObjectURL(n[0]))}},w(u.Fragment,null,null===o?w(s.Z,{color:n?"green":"",placeholder:!0,basic:!0},w(g.Z,{icon:!0},w(v.Z,{name:"file image outline ",style:{cursor:"pointer"},onClick:function(){return r.current.click()}}),"Drag n Drop or click to upload image")):w(s.Z,{color:"green",placeholder:!0,basic:!0},w(b.Z,{src:o,size:"medium",centered:!0,style:{cursor:"pointer"},onClick:function(){return r.current.click()}})))))))},Z=t(9741),y=t(9669),P=t.n(y),S="http://localhost:3000",O=function(e){var n={};return e.response?(n=e.response.data,console.error(n)):e.request?(n=e.request,console.error(n)):(n=e.message,console.error(n)),n},C=t(1163),E=t(6808),_=t.n(E),j=function(){var e=(0,o.Z)(a().mark((function e(n,t,r,o){var i,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P().post("".concat(S,"/api/signup"),{user:n,profilePicUrl:t});case 3:i=e.sent,x(i.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),u=O(e.t0),r(u);case 11:o(!1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t,r,a){return e.apply(this,arguments)}}(),x=function(e){_().set("token",e),C.default.push("/")},D=function(){var e=(0,o.Z)(a().mark((function e(n){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).append("file",n),t.append("upload_present","social_media_app"),t.append("cloud_name","dksuz8msj"),e.next=7,P().post("https://api.cloudinary.com/v1_1/dksuz8msj/image/upload",t);case 7:return r=e.sent,e.abrupt("return",r.data.url);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),L=u.createElement;function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?F(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}t(2418);var U,N=/^(?!.*\.\.)(?!.*\.$)[^\W][\w.]{0,29}$/;var R=function(){var e=(0,u.useState)({name:"",email:"",password:"",bio:"",facebook:"",youtube:"",twitter:"",instagram:""}),n=e[0],t=e[1],r=n.name,d=n.email,m=n.password,g=n.bio,v=function(e){var n=e.target,r=n.name,a=n.value,o=n.files;"media"===r&&(ee(o[0]),re(URL.createObjectURL(o[0]))),t((function(e){return I(I({},e),{},(0,i.Z)({},r,a))}))},b=(0,u.useState)(!1),w=b[0],y=b[1],O=(0,u.useState)(!1),C=O[0],E=O[1],_=(0,u.useState)(null),x=_[0],F=_[1],R=(0,u.useState)(!1),q=R[0],A=R[1],M=(0,u.useState)(!0),T=M[0],z=M[1],G=(0,u.useState)(""),H=G[0],B=G[1],W=(0,u.useState)(!1),X=W[0],$=W[1],J=(0,u.useState)(!1),K=J[0],Q=J[1],V=(0,u.useState)(null),Y=V[0],ee=V[1],ne=(0,u.useState)(null),te=ne[0],re=ne[1],ae=(0,u.useState)(!1),oe=ae[0],ie=ae[1],ue=(0,u.useRef)();(0,u.useEffect)((function(){var e=Object.values({name:r,email:d,password:m,bio:g}).every((function(e){return Boolean(e)}));z(!e)}),[n]);var ce=function(){var e=(0,o.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),e.prev=1,U&&U(),n=P().CancelToken,e.next=6,P().get("".concat(S,"/api/signup/").concat(H),{cancelToken:new n((function(e){U=e}))});case 6:"Avilable"===e.sent.data&&(Q(!0),t((function(e){return I(I({},e),{},{username:H})}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),F("Username not avilable");case 13:$(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){""===H?Q(!1):ce()}),[H]);var le=function(){var e=(0,o.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),A(!0),null===Y){e.next=6;break}return e.next=5,D(Y);case 5:r=e.sent;case 6:if(null===Y||r){e.next=9;break}return A(!1),e.abrupt("return",F("Error uploading image"));case 9:return e.next=11,j(n,r,F,A);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return L(u.Fragment,null,L(Z.G,null),L(c.Z,{loading:q,error:null!==x,onSubmit:le},L(l.Z,{error:!0,header:"oops!",content:x,onDismiss:function(){return F(null)}}),L(s.Z,null,L(k,{mediaPreview:te,setMediaPreview:re,setMedia:ee,inputRef:ue,highlighted:oe,setHighlighted:ie,handlechange:v}),L(c.Z.Input,{required:!0,label:"Name",placeholder:"Name",name:"name",value:r,onChange:v,fluid:!0,icon:"user",iconPosition:"left"}),L(c.Z.Input,{required:!0,label:"Email",placeholder:"Email",name:"email",value:d,onChange:v,fluid:!0,icon:"envelope",iconPosition:"left",type:"email"}),L(c.Z.Input,{required:!0,label:"Password",placeholder:"Password",name:"password",value:m,onChange:v,fluid:!0,icon:{name:"eye",circular:!0,link:!0,onClick:function(){return E(!C)}},iconPosition:"left",type:C?"text":"password"}),L(c.Z.Input,{required:!0,loading:X,error:!K,label:"Username",placeholder:"Username",value:H,onChange:function(e){B(e.target.value),N.test(e.target.value)?Q(!0):Q(!1)},fluid:!0,icon:K?"check":"close",iconPosition:"left"}),L(h,{user:n,showSocialLinks:w,setShowSocialLinks:y,handlechange:v}),L(f.Z,{hidden:!0}),L(p.Z,{icon:"signup",content:"signup",type:"submit",color:"orange",disabled:T||!K}))),L(Z.u,null))}},8971:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return t(927)}])},950:function(){},6601:function(){},9214:function(){},6419:function(){},6353:function(){},8623:function(){},7748:function(){},5568:function(){},9386:function(){},1616:function(){},6619:function(){},7108:function(){},9862:function(){},964:function(){}},function(e){e.O(0,[104,797,774,888,179],(function(){return n=8971,e(e.s=n);var n}));var n=e.O();_N_E=n}]);